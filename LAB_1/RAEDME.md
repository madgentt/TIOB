# Поднимем kecloak на ВМ1
![image](https://github.com/madgentt/TOIB/assets/64005088/d067f118-c4c0-4896-a5cb-298ba30d9978)
## Админ панель keycloak
![image](https://github.com/madgentt/TOIB/assets/64005088/9ddf48be-a0aa-4fc6-b956-c84858fd5cd1)
## Создание собственного Realm
![image](https://github.com/madgentt/TOIB/assets/64005088/b2a3c5c6-082c-4eb4-826c-79cd2012b228)
## Создадим пользователей 
![image](https://github.com/madgentt/TOIB/assets/64005088/30f21b46-c845-448b-bcf2-7c927ee1697d)
# Поднимим вордпресс на ВМ2
## Создадим необходимые подкаталоги 
![image](https://github.com/madgentt/TOIB/assets/64005088/f88cb7a2-e2e5-4b7a-8a22-890615d4e402)
## Файл конфигурации Nginx 
![image](https://github.com/madgentt/TOIB/assets/64005088/9888400b-e083-4b3e-b9e8-1d99970090bf)
## docker-compose.yml для вордпресса 
![image](https://github.com/madgentt/TOIB/assets/64005088/8f05cbdb-a6fb-424e-ac4a-8adf82e8209b)
## Выполним docker compose up 
![image](https://github.com/madgentt/TOIB/assets/64005088/81b2b652-0d61-4c3c-a2eb-eaace302ef6c)
## Админ панель вордпресс
![image](https://github.com/madgentt/TOIB/assets/64005088/8b88125b-8dd9-4c5f-a5e1-5124bdc8e39b)
# Свазка wordpress и keycloak
## Создадим тестовый клиент TEST
![image](https://github.com/madgentt/TOIB/assets/64005088/d8390f96-fd6d-4d7f-ba17-ce3efcf60912)
## Настроим подключение на строне wordpress 
![image](https://github.com/madgentt/TOIB/assets/64005088/85cc3079-d124-4561-b317-2d499113d26b)
## Создадим роли admin и user и назначим их соответствующим плоьзователям
![image](https://github.com/madgentt/TOIB/assets/64005088/7a9be18f-0c06-4ed4-97c9-a7b29acab6e7)
## Закончим конфигурацию вордпрес плагина 
![image](https://github.com/madgentt/TOIB/assets/64005088/9e474175-7ca8-4669-a070-7171968e195f)
## Логин через keycloak
![image](https://github.com/madgentt/TOIB/assets/64005088/2fa6da23-41e7-49e2-a19a-40c1408c4e22)
![image](https://github.com/madgentt/TOIB/assets/64005088/80fec195-b209-46c7-9ad5-93937ea8b793)
# Двухфакторная аутентификация
![image](https://github.com/madgentt/TOIB/assets/64005088/402d3a9f-d3cc-42b4-89ca-74be51847fe3)
# Страница настройки TFA
![image](https://github.com/madgentt/TOIB/assets/64005088/f3d68498-7494-488c-9af8-48884ec62d1e)
# Настроенная TFA
![image](https://github.com/madgentt/TOIB/assets/64005088/db0d0ae7-6273-45f5-aea7-c85e7c98005b)


